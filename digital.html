<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Viora â€“ Digital</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body class="page-digital">

  <nav class="sticky-nav">
    <div class="nav-container">
      <div style="display:flex; align-items:center;">
        <a href="dashboard.html" class="logo"><img src="logo.png" alt="Viora Logo" class="logo-img"></a>
        <div id="user-profile" class="profile-avatar" title="Dein Profil">U</div>
      </div>
      <div class="nav-links">
        <a href="dashboard.html"><span class="icon" aria-hidden="true">ğŸ </span> Home</a>
        <a href="workplace.html"><span class="icon" aria-hidden="true">ğŸ’¼</span> Workplace</a>
        <a href="struktur.html"><span class="icon" aria-hidden="true">ğŸ“…</span> Alltag</a>
        <a href="psyche.html"><span class="icon" aria-hidden="true">ğŸ§ </span> Psyche</a>
        <a href="digital.html" class="active-link"><span class="icon" aria-hidden="true">ğŸ’»</span> Digital</a>
        <a href="index.html" class="icon-only" aria-label="Logout"><span class="icon" aria-hidden="true">â†©</span><span class="sr-only">Logout</span></a>
      </div>
    </div>
  </nav>

  <header class="hero">
    <h1>Der digitale Sandkasten</h1>
    <p class="subtitle">Technik verstehen und Ã¼ben.</p>
  </header>

  <main class="container">

    <section class="section">
      <h2 class="section-title"><span class="icon" aria-hidden="true">ğŸ“˜</span> Begriffe</h2>
      <div class="bento-grid">
        <div class="vocab-card" onclick="toggleVocab(this)"><div class="vocab-header">ğŸŒ Browser</div><div class="vocab-content"><p>Wie ein Auto.</p></div></div>
        <div class="vocab-card" onclick="toggleVocab(this)"><div class="vocab-header">â˜ï¸ Cloud</div><div class="vocab-content"><p>Miet-Lagerraum.</p></div></div>
        <div class="vocab-card" onclick="toggleVocab(this)"><div class="vocab-header">ğŸ”„ Update</div><div class="vocab-content"><p>Neue SchlÃ¶sser.</p></div></div>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title"><span class="icon" aria-hidden="true">âœ‰ï¸</span> E-Mail Simulator</h2>
      <div class="card wide" style="background: #d1d5db; color: #000;"> 
        <div class="email-sim-container">
          <div class="email-header"><span class="fake-btn" style="background:#ff5f57"></span><span class="fake-btn" style="background:#febc2e"></span><span class="fake-btn" style="background:#28c840"></span><span style="margin-left: 10px; font-size: 0.8rem; color: #666;">Neue Nachricht</span></div>
          <div class="email-body">
            <input type="text" class="email-input" id="mail-recipient" placeholder="An:">
            <input type="text" class="email-input" id="mail-subject" placeholder="Betreff:">
            <textarea class="email-textarea" id="mail-body" placeholder="Nachricht..."></textarea>
            <button class="sim-btn" onclick="checkEmail()">Senden</button>
          </div>
        </div>
        <div id="mail-feedback" class="feedback-box"></div>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title"><span class="icon" aria-hidden="true">ğŸ”</span> Sicherheits-Check</h2>
      <div class="bento-grid">
        <article class="card">
          <h3>Passwort testen</h3>
          <div class="pw-container">
            <input type="text" id="pw-input" class="pw-input" placeholder="Passwort..." onkeyup="checkPassword()">
            <div class="pw-bar-bg"><div id="pw-bar" class="pw-bar-fill"></div></div>
            <div id="pw-text" class="pw-text">Gib ein Passwort ein...</div>
          </div>
        </article>
      </div>
    </section>

    <section class="section" id="ki">
      <h2 class="section-title"><span class="icon" aria-hidden="true">ğŸ¤–</span> KI Baukasten</h2>
      <div class="bento-grid">
        <article class="card wide">
          <h3>ğŸ¤– Der Befehls-Baukasten</h3>
          <div class="ki-builder">
            <div class="ki-step">
              <label>Was?</label>
              <select id="ki-type" class="ki-select"><option value="Bewerbung">Bewerbung</option><option value="E-Mail">E-Mail</option></select>
            </div>
            <div class="ki-step">
              <label>Thema?</label>
              <input type="text" id="ki-topic" class="ki-text-input" placeholder="z.B. Termin">
            </div>
            <button class="primary-btn" onclick="buildPrompt()">Erstellen</button>
          </div>
          <div id="ki-result" class="ki-result-box">
            <h4>ğŸ’¡ Befehl:</h4>
            <code id="prompt-output" class="ki-prompt-code">...</code>
            <button class="card-note" onclick="copyPrompt()" style="background:none; border:none; cursor:pointer;">Kopieren</button>
            <span id="copy-msg" style="color:#4ade80; font-size:0.8rem; margin-left:10px; opacity:0;">Kopiert!</span>
          </div>
        </article>
      </div>
    </section>

  </main>

  <footer class="footer"><p>Â© 2025 Viora.</p></footer>

  <script>
    const NETWORK_KEY = 'viora_MyNetwork';
    const USER_KEY = 'viora_current_user';

    document.addEventListener('DOMContentLoaded', () => {
      // Avatar Logik
      const userRaw = localStorage.getItem(USER_KEY);
      const avatar = document.getElementById('user-profile');
      if(userRaw && avatar) {
        const user = JSON.parse(userRaw);
        avatar.innerText = user.name ? user.name.charAt(0).toUpperCase() : 'U';
        if(localStorage.getItem(NETWORK_KEY)) avatar.classList.add('premium-gold');
      }
    });

    function showToast(msg) {
      const toast = document.createElement('div'); toast.className = 'toast';
      toast.innerHTML = `<span class="icon" aria-hidden="true">âœ”ï¸</span> ${msg}`;
      document.body.appendChild(toast);
      setTimeout(() => toast.classList.add('show'), 100);
      setTimeout(() => { toast.classList.remove('show'); setTimeout(()=>toast.remove(),300); }, 3000);
    }
    function toggleVocab(card) { card.classList.toggle('open'); }
    function checkEmail() {
      const recipient = document.getElementById('mail-recipient').value;
      const body = document.getElementById('mail-body').value;
      const fb = document.getElementById('mail-feedback');
      fb.style.display = 'block'; fb.className = 'feedback-box';
      if (!recipient.includes('@') || body.length < 10) { fb.classList.add('feedback-error'); fb.innerHTML = `<strong>Fehler:</strong> @ oder Text fehlt.`; showToast("Bitte korrigieren"); } 
      else { fb.classList.add('feedback-success'); fb.innerHTML = `<strong>Super!</strong> Sieht gut aus.`; showToast("Gesendet!"); }
    }
    function checkPassword() {
      const pw = document.getElementById('pw-input').value;
      const bar = document.getElementById('pw-bar');
      const text = document.getElementById('pw-text');
      let s = 0;
      if (pw.length > 5) s += 20; if (pw.length > 8) s += 30; if (/[A-Z]/.test(pw)) s += 20; if (/[0-9]/.test(pw)) s += 30;
      bar.style.width = s + '%';
      if(s < 40) { bar.style.background = '#ef4444'; text.innerText = "Unsicher"; }
      else if(s < 80) { bar.style.background = '#f59e0b'; text.innerText = "Okay"; }
      else { bar.style.background = '#10b981'; text.innerText = "Stark!"; }
    }
    function buildPrompt() {
      const type = document.getElementById('ki-type').value;
      const topic = document.getElementById('ki-topic').value;
      if(!topic) { showToast("Thema fehlt"); return; }
      const prompt = `Schreibe eine ${type} zum Thema "${topic}".`;
      const resBox = document.getElementById('ki-result');
      document.getElementById('prompt-output').innerText = prompt;
      resBox.style.display = 'block';
      showToast("Erstellt");
    }
    function copyPrompt() {
      const text = document.getElementById('prompt-output').innerText;
      navigator.clipboard.writeText(text);
      showToast("Kopiert");
    }
  </script>
</body>
</html>